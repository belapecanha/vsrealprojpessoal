<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>tarefas</title>
</head>
<body>
  <h1>Cadastro de Tarefas</h1>

  <!-- FormulÃ¡rio para adicionar tarefa -->
  <form action="/tarefas" method="POST">
    <input name="title_tasks" placeholder="TÃ­tulo da tarefa" required>
    <input name="description_tasks" placeholder="DescriÃ§Ã£o da tarefa" required>

    <!-- Campos ENUM -->
    <select name="status" required>
      <option value="Pendente">Pendente</option>
      <option value="Em andamento">Em andamento</option>
      <option value="ConcluÃ­da">ConcluÃ­da</option>
    </select>

    <select name="priority" required>
      <option value="Baixa">Baixa</option>
      <option value="MÃ©dia">MÃ©dia</option>
      <option value="Alta">Alta</option>
    </select>

    <button type="submit">Adicionar</button>
  </form>

  <hr>

  <h2>Lista de Tarefas</h2>
  <% tarefas.forEach(tarefa => { %>
    <!-- FormulÃ¡rio para editar tarefa -->
    <form action="/tarefas/edit/<%= tarefa.id %>" method="POST" style="display:inline;">
      <input name="title_tasks" value="<%= tarefa.title_tasks %>" required>
      <input name="description_tasks" value="<%= tarefa.description_tasks %>" required>

      <!-- ENUMs para editar -->
      <select name="status" required>
        <option value="Pendente" <%= tarefa.status === 'Pendente' ? 'selected' : '' %>>Pendente</option>
        <option value="Em andamento" <%= tarefa.status === 'Em andamento' ? 'selected' : '' %>>Em andamento</option>
        <option value="ConcluÃ­da" <%= tarefa.status === 'ConcluÃ­da' ? 'selected' : '' %>>ConcluÃ­da</option>
      </select>

      <select name="priority" required>
        <option value="Baixa" <%= tarefa.priority === 'Baixa' ? 'selected' : '' %>>Baixa</option>
        <option value="MÃ©dia" <%= tarefa.priority === 'MÃ©dia' ? 'selected' : '' %>>MÃ©dia</option>
        <option value="Alta" <%= tarefa.priority === 'Alta' ? 'selected' : '' %>>Alta</option>
      </select>

      <button type="submit">âœï¸</button>
    </form>

    <!-- ExclusÃ£o lÃ³gica da tarefa -->
    <form action="/tarefas/delete/<%= tarefa.id %>" method="POST" style="display:inline;">
      <button type="submit" onclick="return confirm('Tem certeza que deseja excluir a tarefa?')">ğŸ—‘ï¸</button>
    </form>
    <br>
  <% }) %>
</body>
</html>
